(this["webpackJsonpcupcake-test"]=this["webpackJsonpcupcake-test"]||[]).push([[0],{20:function(e,t,c){},21:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c.n(n),a=c(15),s=c.n(a),i=(c(20),c(21),c(3)),u=c(6),o=c.n(u),j=c(0),l=r.a.createContext(void 0,void 0);function d(e){var t,c=e.children,r=["first","second","third"],a=["Pair name/market","First","Second","Third"],s=["RUB/CUPCAKE","USD/CUPCAKE","EUR/CUPCAKE","RUB/USD","RUB/EUR","EUR/USD"],u=Object(n.useState)(),d=Object(i.a)(u,2),f=d[0],h=d[1],b=Object(n.useState)(a),O=Object(i.a)(b,2),v=O[0],x=O[1],m=Object(n.useState)(r),p=Object(i.a)(m,2),E=p[0],U=p[1],w=function e(){var c=[];x(a),U(r),function(){var e=E.map((function(e){return o.a.get("http://localhost:3000/api/v1/".concat(e))}));return o.a.all(e)}().then((function(e){s.forEach((function(t){C(c,e,t)})),c.forEach((function(e){var t=[];E.map((function(c){return t.push(e[c].value),c})).forEach((function(c){e[c].lowest=e[c].value===S(t)}))})),h(c)})).finally((function(){t=setTimeout((function(){e()}),5e3)})).catch((function(e){h([]),x((function(e){return e.map((function(){return"Error"}))})),clearTimeout(t),console.error("error",e)}))},C=function(e,t,c){var n=c.split("/"),r=Object(i.a)(n,2),a=r[0],s=r[1],u={};t.forEach((function(e,t){var n=e.data.rates[a],r=e.data.rates[s];u.name=c,u[E[t]]={value:g(n,r||1)}})),Object.keys(u).length&&e.push(u)},S=function(e){return e.reduce((function(e,t){return e<t?e:t}))},g=function(e,t){return Number((e/t).toFixed(2))};Object(n.useEffect)((function(){w()}),[]);var y={currencies:f,headers:v};return Object(j.jsx)(l.Provider,{value:y,children:c})}c(41),c(42);var f=function(){return Object(j.jsx)("div",{className:"lds-ring-wrapper",children:Object(j.jsxs)("div",{className:"lds-ring",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})},h=c(4),b=c.n(h),O=function(){var e=Object(n.useContext)(l),t=e.currencies,c=e.headers;return Object(j.jsx)(j.Fragment,{children:t?Object(j.jsxs)("table",{className:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:c.length&&c.map((function(e,t){return Object(j.jsx)("th",{children:e},t)}))})}),Object(j.jsx)("tbody",{children:t&&t.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{className:b()(e.first.lowest&&"lowest-currency"),children:e.first.value}),Object(j.jsx)("td",{className:b()(e.second.lowest&&"lowest-currency"),children:e.second.value}),Object(j.jsx)("td",{className:b()(e.third.lowest&&"lowest-currency"),children:e.third.value})]},t)}))})]}):Object(j.jsx)(f,{})})};var v=function(){return Object(j.jsx)(d,{children:Object(j.jsx)(O,{})})};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.7a615a62.chunk.js.map