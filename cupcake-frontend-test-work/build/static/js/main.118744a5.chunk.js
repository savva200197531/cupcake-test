(this["webpackJsonpcupcake-test"]=this["webpackJsonpcupcake-test"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),s=n(15),a=n.n(s),i=(n(20),n(21),n(4)),u=n(6),o=n.n(u),j=n(0),d=r.a.createContext(void 0,void 0);function l(e){var t=e.children,n=["first","second","third"],r=["Pair name/market","First","Second","Third"],s=["RUB/CUPCAKE","USD/CUPCAKE","EUR/CUPCAKE","RUB/USD","RUB/EUR","EUR/USD"],a=Object(c.useState)(),u=Object(i.a)(a,2),l=u[0],f=u[1],h=Object(c.useState)(r),b=Object(i.a)(h,2),O=b[0],v=b[1],x=function e(){var t=[];v(r),function(){var e=n.map((function(e){return o.a.get("http://localhost:3000/api/v1/".concat(e))}));return o.a.all(e)}().then((function(e){s.forEach((function(n){m(t,e,n)})),t.forEach((function(e){var t=[];n.map((function(n){return t.push(e[n].value),n})).forEach((function(n){e[n].lowest=e[n].value===p(t)}))})),f(t)})).finally((function(){setTimeout((function(){e()}),5e3)})).catch((function(e){f([]),v((function(e){return e.map((function(){return"Error"}))})),console.error("error",e)}))},m=function(e,t,c,r){var s=c.split("/"),a=Object(i.a)(s,2),u=a[0],o=a[1],j={};t.forEach((function(e,t){var r=e.data.rates[u],s=e.data.rates[o];r&&s&&(j.name=c,j[n[t]]={value:E(r,s)})})),Object.keys(j).length&&e.push(j)},p=function(e){return e.reduce((function(e,t){return e<t?e:t}))},E=function(e,t){return Number((e/t).toFixed(2))};Object(c.useEffect)((function(){x()}),[]);var U={currencies:l,headers:O};return Object(j.jsx)(d.Provider,{value:U,children:t})}n(41),n(42);var f=function(){return Object(j.jsx)("div",{className:"lds-ring-wrapper",children:Object(j.jsxs)("div",{className:"lds-ring",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})},h=n(3),b=n.n(h),O=function(){var e=Object(c.useContext)(d),t=e.currencies,n=e.headers;return Object(j.jsx)(j.Fragment,{children:t?Object(j.jsxs)("table",{className:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:n.length&&n.map((function(e,t){return Object(j.jsx)("th",{children:e},t)}))})}),Object(j.jsx)("tbody",{children:t&&t.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{className:b()(e.first.lowest&&"lowest-currency"),children:e.first.value}),Object(j.jsx)("td",{className:b()(e.second.lowest&&"lowest-currency"),children:e.second.value}),Object(j.jsx)("td",{className:b()(e.third.lowest&&"lowest-currency"),children:e.third.value})]},t)}))})]}):Object(j.jsx)(f,{})})};var v=function(){return Object(j.jsx)(l,{children:Object(j.jsx)(O,{})})};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.118744a5.chunk.js.map